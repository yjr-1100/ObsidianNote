# kmp算法

[28. 找出字符串中第一个匹配项的下标](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)

```cpp
class Solution {
public:
    void getNext(int a[],string needle){
        int j = 0;
        a[0] = 0;
        for(int i = 1;i<needle.size();i++){
            while(j>0&&needle[j]!=needle[i]){
                j = a[j-1];
            }
            if(needle[j]==needle[i]) j++;
            a[i] = j;
        }
    }
    int strStr(string haystack, string needle) {
        int next[needle.size()];
        getNext(next,needle);
        int j = 0;
        int i = 0;
        while(j<needle.size()&&i<haystack.size()){
            while(j>0&&haystack[i]!=needle[j]){
                j = next[j-1];
            }
            if(haystack[i]==needle[j]) j++;
            i++;
        }
        if(j==needle.size()){
            return i-j;
        }
        else return -1;
    }
};
```
